<html id="webpage" data-theme="garden">
  <head>
    <title>To-do App</title>
    <link rel="icon" type="image/x-icon" href="/static/favicon.png" />
    <link href="/static/output.css" rel="stylesheet" />
    <script src="/static/htmx_1.9.6.min.js"></script>
    <script src="https://unpkg.com/hyperscript.org@0.9.11"></script>
    <script src="https://cdn.jsdelivr.net/npm/theme-change@2.0.2/index.js"></script>
    <script src="https://code.iconify.design/iconify-icon/1.0.7/iconify-icon.min.js"></script>
  </head>
  <body class="px-5 pt-2">
    <div class="flex items-center justify-between">
      <article class="prose">
        <h1 class="underline">My To-Do App</h1>
      </article>
      <div class="flex place-items-center">
        ðŸŒž
        <input
          id="theme-toggle"
          type="checkbox"
          class="toggle mx-1"
          data-toggle-theme="garden,dracula"
          data-act-class="pl-4"
          _="on load js 
            toggleButton = document.getElementById('theme-toggle');
            htmlElement = document.getElementById('webpage');
            toggleButton.checked = htmlElement.getAttribute('data-theme') === 'dracula';
            "
        />
        ðŸŒš
      </div>
    </div>

    <div class="mt-5 flex w-full">
      <div class="card rounded-box grid w-[30%] bg-base-300 p-2">
        <div class="mx-2 flex flex-col">
          <div class="flex items-center justify-between">
            <article class="prose mb-5">
              <h1>Backlog</h1>
            </article>
            <iconify-icon
              class="cursor-pointer hover:brightness-90 active:scale-[95%] active:brightness-90"
              icon="icon-park-outline:add"
              width="30"
              height="30"
            ></iconify-icon>
          </div>
          {% for todo in backlog %}
          <div
            class="group card relative my-2 w-[80%] place-self-center bg-base-100 shadow-xl"
          >
            <iconify-icon
              class="absolute right-4 top-4 hidden cursor-pointer hover:brightness-90 active:scale-[95%] active:brightness-90 group-hover:block"
              icon="material-symbols:delete-outline"
              width="30"
              height="30"
            ></iconify-icon>
            <div class="card-body">
              <article class="prose">
                <h2 class="card-title">{{ todo.title }}</h2>
                <p>{{ todo.description }}</p>
              </article>
            </div>
          </div>
          {% endfor %}
        </div>
      </div>

      <div class="divider divider-horizontal"></div>

      <div class="card rounded-box grid w-[30%] bg-base-300 p-2">
        <div class="mx-2 flex flex-col">
          <div class="flex items-center justify-between">
            <article class="prose mb-5">
              <h1>In-Progress</h1>
            </article>
            <iconify-icon
              class="cursor-pointer hover:brightness-90 active:scale-[95%] active:brightness-90"
              icon="icon-park-outline:add"
              width="30"
              height="30"
            ></iconify-icon>
          </div>
          {% for todo in inProgress %}
          <div
            class="group card relative my-2 w-[80%] place-self-center bg-base-100 shadow-xl"
          >
            <iconify-icon
              class="absolute right-4 top-4 hidden cursor-pointer hover:brightness-90 active:scale-[95%] active:brightness-90 group-hover:block"
              icon="material-symbols:delete-outline"
              width="30"
              height="30"
            ></iconify-icon>
            <div class="card-body">
              <article class="prose">
                <h2 class="card-title">{{ todo.title }}</h2>
                <p>{{ todo.description }}</p>
              </article>
            </div>
          </div>
          {% endfor %}
        </div>
      </div>

      <div class="divider divider-horizontal"></div>

      <div class="card rounded-box grid w-[30%] bg-base-300 p-2">
        <div class="mx-2 flex flex-col">
          <div class="flex items-center justify-between">
            <article class="prose mb-5">
              <h1>Done</h1>
            </article>
            <iconify-icon
              class="cursor-pointer hover:brightness-90 active:scale-[95%] active:brightness-90"
              icon="icon-park-outline:add"
              width="30"
              height="30"
            ></iconify-icon>
            </svg>
          </div>
          {% for todo in done %}
          <div
            class="group card relative my-2 w-[80%] place-self-center bg-base-100 shadow-xl"
          >
            <iconify-icon
              class="absolute right-4 top-4 hidden cursor-pointer hover:brightness-90 active:scale-[95%] active:brightness-90 group-hover:block"
              icon="material-symbols:delete-outline"
              width="30"
              height="30"
            ></iconify-icon>
            <div class="card-body">
              <article class="prose">
                <h2 class="card-title">{{ todo.title }}</h2>
                <p>{{ todo.description }}</p>
              </article>
            </div>
          </div>
          {% endfor %}
        </div>
      </div>
    </div>
  </body>
</html>
